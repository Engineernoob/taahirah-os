<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TaahirahOS Boot</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      font-family: "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
      overflow: hidden;
      cursor: default;
    }

    /* Macintosh-style Start Screen */
    #start-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #a8a8a8 0%, #c0c0c0 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      cursor: pointer;
      user-select: none;
    }

    .start-screen {
      text-align: center;
      color: #000;
    }

    .mac-logo {
      font-size: 120px;
      margin-bottom: 40px;
      font-weight: 100;
      letter-spacing: -4px;
      animation: macStartupPulse 2s ease-in-out infinite;
    }

    @keyframes macStartupPulse {
      0%, 100% { opacity: 0.7; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.05); }
    }

    .start-screen h1 {
      font-size: 32px;
      margin-bottom: 20px;
      font-weight: 300;
      letter-spacing: -1px;
      color: #333;
    }

    .start-screen p {
      font-size: 16px;
      opacity: 0.8;
      font-style: italic;
      color: #555;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @keyframes blink {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0.5; }
    }

    /* Macintosh-style BIOS Screen */
    #bios-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: none;
      flex-direction: column;
      padding: 20px;
      color: #0f0;
      font-family: "Monaco", "Courier New", monospace;
      font-size: 14px;
      z-index: 900;
      text-shadow: 0 0 3px #0f0;
    }

    .bios-line {
      margin: 2px 0;
      opacity: 0;
      animation: typeIn 0.3s forwards;
    }

    @keyframes typeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Macintosh-style Boot Screen */
    #boot-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, #000 0%, #1a1a1a 100%);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 800;
    }

    .boot-container {
      text-align: center;
      color: #fff;
    }

    .mac-logo-large {
      font-size: 120px;
      margin-bottom: 40px;
      font-weight: 100;
      letter-spacing: -4px;
      opacity: 0.9;
      animation: macLogoPulse 3s ease-in-out infinite;
    }

    @keyframes macLogoPulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.05); }
    }

    .boot-text {
      font-size: 24px;
      margin-bottom: 30px;
      font-weight: 300;
      letter-spacing: -1px;
      opacity: 0.9;
    }

    .boot-progress {
      width: 400px;
      height: 8px;
      border: 1px solid #333;
      background: #222;
      padding: 2px;
      position: relative;
      border-radius: 4px;
    }

    .boot-progress-inner {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, #007aff, #5856d6);
      transition: width 0.5s ease;
      position: relative;
      overflow: hidden;
      border-radius: 2px;
    }

    .boot-progress-inner::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: macShimmer 2s infinite;
    }

    @keyframes macShimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .boot-status {
      margin-top: 20px;
      font-size: 14px;
      opacity: 0.8;
      font-weight: 300;
      letter-spacing: 0.5px;
    }

    /* Macintosh-style Login Screen */
    #login-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f5f5f7, #e3e3e7);
      display: none;
      z-index: 700;
    }

    .login-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .login-window {
      background: white;
      border: none;
      border-radius: 12px;
      padding: 40px;
      min-width: 420px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
    }

    .login-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 30px;
      color: #1d1d1f;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      font-family: "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
    }

    .login-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, #007aff, #5856d6);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 20px;
      box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
    }

    .login-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 5px;
    }

    .form-label {
      font-size: 14px;
      color: #1d1d1f;
      font-weight: 500;
      margin-bottom: 8px;
      font-family: "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
    }

    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d2d2d7;
      border-radius: 8px;
      background: white;
      font-family: "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
      font-size: 16px;
      transition: all 0.2s ease;
      box-sizing: border-box;
    }

    .form-input:focus {
      outline: none;
      border-color: #007aff;
      box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
    }

    .login-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 30px;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      background: linear-gradient(135deg, #007aff, #5856d6);
      color: white;
      font-family: "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.2s ease;
      min-width: 120px;
      box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
    }

    .btn:hover {
      background: linear-gradient(135deg, #0056d6, #4a46a6);
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(0, 122, 255, 0.4);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
    }

    .btn:first-child {
      background: #f2f2f7;
      color: #1d1d1f;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .btn:first-child:hover {
      background: #e5e5ea;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .login-info {
      margin-top: 25px;
      font-size: 13px;
      color: #86868b;
      text-align: center;
      line-height: 1.5;
      font-family: "SF Pro Display", "Helvetica Neue", Arial, sans-serif;
    }

    .shutdown-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .shutdown-text {
      color: #fff;
      font-size: 24px;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Macintosh-style Start Screen -->
  <div id="start-overlay">
    <div class="start-screen">
      <div class="mac-logo"></div>
      <h1>Macintosh System</h1>
      <p>Click to start up your Macintosh</p>
    </div>
  </div>

  <!-- BIOS/POST Screen -->
  <div id="bios-screen">
    <div class="bios-content"></div>
  </div>

  <!-- Macintosh-style Boot Screen -->
  <div id="boot-screen">
    <div class="boot-container">
      <div class="mac-logo-large"></div>
      <div class="boot-text">Macintosh System Software</div>
      <div class="boot-progress">
        <div class="boot-progress-inner" id="progress-bar"></div>
      </div>
      <div class="boot-status" id="boot-status">Starting up Macintosh...</div>
    </div>
  </div>

  <!-- Login Screen -->
  <div id="login-screen">
    <div class="login-container">
      <div class="login-window">
        <div class="login-title">
          <div class="login-icon"></div>
          <span>Welcome to Macintosh</span>
        </div>
        <div class="login-form">
          <div class="form-group">
            <label class="form-label">User name:</label>
            <input type="text" class="form-input" id="username" value="Taahirah" readonly>
          </div>
          <div class="form-group">
            <label class="form-label">Password:</label>
            <input type="password" class="form-input" id="password" placeholder="Enter password">
          </div>
        </div>
        <div class="login-buttons">
          <button class="btn" onclick="shutdownSystem()">Shutdown</button>
          <button class="btn btn-ok" onclick="login()">OK</button>
        </div>
        <div class="login-info">
          <div>Press Enter or click OK to log on</div>
          <div>Leave password blank for guest access</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Shutdown Overlay -->
  <div class="shutdown-overlay" id="shutdown-overlay">
    <div class="shutdown-text">
      <div>It is now safe to turn off your computer.</div>
    </div>
  </div>

  <!-- Macintosh Boot sounds -->
  <audio id="boot-sound" preload="auto">
    <source src="data:audio/wav;base64,UklGRiQBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" type="audio/wav" />
  </audio>

  <audio id="login-sound" preload="auto">
    <source src="data:audio/wav;base64,UklGRiQCAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQgCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" type="audio/wav" />
  </audio>

  <script>
    const startOverlay = document.getElementById('start-overlay');
    const biosScreen = document.getElementById('bios-screen');
    const bootScreen = document.getElementById('boot-screen');
    const loginScreen = document.getElementById('login-screen');
    const progressBar = document.getElementById('progress-bar');
    const bootStatus = document.getElementById('boot-status');
    const bootSound = document.getElementById('boot-sound');
    const loginSound = document.getElementById('login-sound');
    const shutdownOverlay = document.getElementById('shutdown-overlay');

    let hasStarted = false;
    let currentBootPhase = 'start';

    // Start overlay handler
    function handleStart() {
      if (hasStarted) return;
      hasStarted = true;
      startBIOS();
    }

    startOverlay.addEventListener('click', handleStart);
    document.addEventListener('keydown', handleStart);

    // BIOS/POST sequence
    async function startBIOS() {
      startOverlay.style.display = 'none';
      biosScreen.style.display = 'flex';
      currentBootPhase = 'bios';

      const biosMessages = [
        'Macintosh Toolbox v7.5.3',
        'CPU: Motorola 68040 40MHz',
        'Memory Test: 8MB OK',
        'SCSI ID 0: Apple Hard Drive',
        'SCSI ID 6: Apple CD-ROM Drive',
        'ADB Devices Initialized',
        'NuBus Bus Scanning...',
        'Checking disk partitions...',
        'Macintosh System Folder found...',
        ''
      ];

      const biosContent = biosScreen.querySelector('.bios-content');
      biosContent.innerHTML = '';

      for (let i = 0; i < biosMessages.length; i++) {
        biosContent.innerHTML += `<div class="bios-line" style="animation-delay: ${i * 0.2}s">${biosMessages[i]}</div>`;
      }

      await new Promise(resolve => setTimeout(resolve, biosMessages.length * 200 + 1000));
      startBoot();
    }

    // Boot sequence
    async function startBoot() {
      biosScreen.style.display = 'none';
      bootScreen.style.display = 'flex';
      currentBootPhase = 'boot';

      const bootSteps = [
        { progress: 10, status: 'Loading Macintosh System...' },
        { progress: 25, status: 'Initializing System Extensions...' },
        { progress: 40, status: 'Loading Control Panels...' },
        { progress: 55, status: 'Starting Network Services...' },
        { progress: 70, status: 'Loading Finder...' },
        { progress: 85, status: 'Preparing Desktop...' },
        { progress: 95, status: 'Starting Applications...' },
        { progress: 100, status: 'Welcome to Macintosh!' }
      ];

      for (let step of bootSteps) {
        progressBar.style.width = step.progress + '%';
        bootStatus.textContent = step.status;
        await new Promise(resolve => setTimeout(resolve, 400));
      }

      // Play boot sound
      try {
        bootSound.volume = 0.5;
        await bootSound.play();
      } catch (err) {
        console.log('Boot sound not available');
      }

      await new Promise(resolve => setTimeout(resolve, 2000));
      startLogin();
    }

    // Login screen
    function startLogin() {
      bootScreen.style.display = 'none';
      loginScreen.style.display = 'block';
      currentBootPhase = 'login';
      
      // Focus on password field
      setTimeout(() => {
        document.getElementById('password').focus();
      }, 100);
    }

    // Login handler
    function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;

      // Accept any password or blank
      const acceptedPasswords = ['', 'password', 'admin', '1234', 'taahirah'];
      
      if (acceptedPasswords.includes(password.toLowerCase())) {
        // Play login sound
        try {
          loginSound.volume = 0.5;
          loginSound.play();
        } catch (err) {
          console.log('Login sound not available');
        }

        // Save login info
        sessionStorage.setItem('currentUser', username);
        sessionStorage.setItem('loggedIn', 'true');
        sessionStorage.setItem('booted', 'true');

        // Transition to desktop
        setTimeout(() => {
          window.location.replace('index.html');
        }, 500);
      } else {
        // Wrong password animation
        const passwordField = document.getElementById('password');
        passwordField.style.background = '#ffcccc';
        
        setTimeout(() => {
          passwordField.style.background = '#fff';
          passwordField.value = '';
          passwordField.focus();
        }, 500);
      }
    }

    // Shutdown system
    function shutdownSystem() {
      shutdownOverlay.style.display = 'flex';
      setTimeout(() => {
        window.close();
        // Fallback for browsers that can't close the window
        window.location.replace('about:blank');
      }, 3000);
    }

    // Enter key to login
    document.getElementById('password').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        login();
      }
    });

    // Auto-hide mouse cursor after inactivity
    let mouseTimer;
    document.addEventListener('mousemove', () => {
      document.body.style.cursor = 'default';
      clearTimeout(mouseTimer);
      mouseTimer = setTimeout(() => {
        if (currentBootPhase === 'boot') {
          document.body.style.cursor = 'none';
        }
      }, 3000);
    });
  </script>
</body>
</html>
